{"version":3,"file":"WorkerUtils.js","sourceRoot":"","sources":["../../../src/CameraModule/barcode/WorkerUtils.ts"],"names":[],"mappings":"AAAA,MAAM,OAAO,SAAU,SAAQ,MAAM;IACnC,YAAY,MAAM;QAChB,MAAM,IAAI,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC/B,MAAM,IAAI,GAAG,UAAU,CAAC,CAAC,GAAG,GAAG,IAAI,GAAG,KAAK,CAAC,EAAE;YAC5C,IAAI,EAAE,wBAAwB;SAC/B,CAAC,CAAC;QACH,KAAK,CAAC,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC;IACnC,CAAC;CACF;AAED;;GAEG;AACH,MAAM,UAAU,UAAU,CAAC,KAAiB,EAAE,UAAuC;IACnF,IAAI;QACF,OAAO,IAAI,IAAI,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;KACpC;IAAC,OAAO,CAAC,EAAE;QACV,IAAI,CAAC,CAAC,IAAI,KAAK,WAAW,EAAE;YAC1B,MAAM,CAAC,CAAC;SACT;QACD,MAAM,WAAW,GACf,MAAM,CAAC,aAAa,CAAC;YACrB,MAAM,CAAC,eAAe,CAAC;YACvB,MAAM,CAAC,gBAAgB,CAAC;YACxB,MAAM,CAAC,mBAAmB,CAAC,CAAC;QAC9B,MAAM,OAAO,GAAG,IAAI,WAAW,EAAE,CAAC;QAClC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;YACxC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;SAC1B;QACD,OAAO,OAAO,CAAC,OAAO,CAAC,CAAC,UAAU,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC;KACjD;AACH,CAAC","sourcesContent":["export class WebWorker extends Worker {\n  constructor(worker) {\n    const code = worker.toString();\n    const blob = createBlob(['(' + code + ')()'], {\n      type: 'application/javascript',\n    });\n    super(URL.createObjectURL(blob));\n  }\n}\n\n/**\n * From https://gist.github.com/nolanlawson/10340255\n */\nexport function createBlob(parts: BlobPart[], properties: BlobPropertyBag | undefined): Blob {\n  try {\n    return new Blob(parts, properties);\n  } catch (e) {\n    if (e.name !== 'TypeError') {\n      throw e;\n    }\n    const BlobBuilder =\n      window['BlobBuilder'] ||\n      window['MSBlobBuilder'] ||\n      window['MozBlobBuilder'] ||\n      window['WebKitBlobBuilder'];\n    const builder = new BlobBuilder();\n    for (let i = 0; i < parts.length; i += 1) {\n      builder.append(parts[i]);\n    }\n    return builder.getBlob((properties || {}).type);\n  }\n}\n"]}